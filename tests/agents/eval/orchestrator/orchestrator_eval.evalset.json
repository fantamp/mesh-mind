{
  "eval_set_id": "orchestrator_eval_v1",
  "description": "Orchestrator routing to sub-agents",
  "eval_cases": [
    {
      "eval_id": "route_observer",
      "conversation": [
        {
          "user_content": {
            "role": "user",
            "parts": [
              {"text": "CONTEXT: chat_id='eval_orchestrator' Покажи сообщения начиная с 2025-11-25T00:00:00Z"}
            ]
          },
          "intermediate_data": {
            "tool_uses": [
              {
                "name": "transfer_to_agent",
                "args": {"agent_name": "chat_observer"}
              }
            ]
          }
        }
      ]
    },
    {
      "eval_id": "route_qa",
      "conversation": [
        {
          "user_content": {
            "role": "user",
            "parts": [
              {"text": "CONTEXT: chat_id='eval_qa_chat' Question: Какой бюджет проекта Apollo?"}
            ]
          },
          "intermediate_data": {
            "tool_uses": [
              {
                "name": "transfer_to_agent",
                "args": {"agent_name": "qa_agent"}
              },
              {
                "name": "search_knowledge_base",
                "args": {
                  "query": "бюджет проекта Apollo",
                  "chat_id": "eval_qa_chat"
                }
              }
            ]
          },
          "final_response": {
            "role": "model",
            "parts": [
              {"text": "Бюджет проекта Apollo — 50000 USD."}
            ]
          }
        }
      ]
    },
    {
      "eval_id": "route_summarizer",
      "conversation": [
        {
          "user_content": {
            "role": "user",
            "parts": [
              {"text": "CONTEXT: chat_id='eval_orchestrator' Суммаризируй последние сообщения"}
            ]
          },
          "intermediate_data": {
            "tool_uses": [
              {"name": "transfer_to_agent", "args": {"agent_name": "chat_summarizer"}}
            ]
          }
        }
      ]
    },
    {
      "eval_id": "route_observer_keywords",
      "conversation": [
        {
          "user_content": {
            "role": "user",
            "parts": [
              {"text": "CONTEXT: chat_id='eval_orchestrator' Найди сообщения про бюджет"}
            ]
          },
          "intermediate_data": {
            "tool_uses": [
              {"name": "transfer_to_agent", "args": {"agent_name": "chat_observer"}}
            ]
          }
        }
      ]
    },
    {
      "eval_id": "route_qa_unknown",
      "conversation": [
        {
          "user_content": {
            "role": "user",
            "parts": [
              {"text": "CONTEXT: chat_id='eval_qa_chat' Question: Как зовут кота Марии?"}
            ]
          },
          "intermediate_data": {
            "tool_uses": [
              {"name": "transfer_to_agent", "args": {"agent_name": "qa_agent"}},
              {"name": "search_knowledge_base", "args": {"query": "кота Марии", "chat_id": "eval_qa_chat"}}
            ]
          },
          "final_response": {
            "role": "model",
            "parts": [
              {"text": "Я не знаю."}
            ]
          }
        }
      ]
    }
  ]
}
